include::../../docs/settings.adoc[]
include::module-settings.adoc[]
:author: Thorsten Eckstein


// table of contents
:toc:

////
  Folgendes wird in "course-structure.adoc"
  aus jedem Modul zusammengeführt:

tag::content[]
----
1. Collections Framework
1.1. Java Collections API Interfaces
1.2. Special Java Collections Classes
1.3. Synchronized Wrappers
1.4. Unmodifiable Wrappers
----
end::content[]
////


== Collections Framework

Siehe z.B. -> https://en.wikipedia.org/wiki/Java_collections_framework[Java Collections Framework auf Wikipedia]

*Die wichtigsten Auswahlkriterien*:

* Position von Elementen (_numerischer index_)
* Möglichkeit zur Ordnung von Elementen (z.B. _insertion order_)
* Möglichkeit von `null` Elementen oder Duplikaten (_Set vs. List_)

CAUTION: -> _Duplikate in Listen? Wann ist ein Listenelement ein Duplikat? Technisch gleich oder logisch gleich?_

* Zugriff auf Elemente anhand eines Schlüssels (_List vs. Map_)

image::images/collections-api.png["Collections API",width="100%",align="center"]


==== Java Collections API Interfaces

Java collection interfaces are the foundation of the Java Collections Framework. All core collection interfaces are generic.
For example `public interface Collection<E>`. The <E> syntax is for Generics and when we declare Collection (_später mehr zum Thema `Generics`_)

. *Collection interface*.
This is the root of the collection hierarchy. A collection represents a group of objects known as its elements. Some basic operations are provided.

. *Iterator Interface*.
Iterator interface provides methods to iterate over the elements of the Collection. Iterators allow the caller to remove elements from the underlying collection during the iteration.

. *Set Interface*
Set is a collection that cannot contain duplicate elements.
The Java platform contains three general-purpose Set implementations: HashSet, TreeSet, and LinkedHashSet.

. *List Interface*
List is an ordered collection and can contain duplicate elements. You can access any element by its index.
List has a dynamic length. ArrayList and LinkedList are implementation classes of List interface.

. *Queue Interface*
Queue is a collection used to hold multiple elements prior to processing.
Besides basic Collection operations, a Queue provides additional insertion, extraction, and inspection operations.
Queues typically, but do not necessarily, order elements in a FIFO (first-in-first-out) manner.

. *Dequeue Interface*
A linear collection that supports element insertion and removal at both ends. The name deque is short for "double-ended queue"

. *Map Interface*
Java Map is an object that maps keys to values. A map cannot contain duplicate keys, each key can map to at most one value.
The Java platform contains three general-purpose Map implementations: HashMap, TreeMap, and LinkedHashMap.

. *SortedSet Interface*
SortedSet is a Set that maintains its elements in ascending order. Sorted sets are used for naturally ordered sets.

. *SortedMap Interface*
A map that maintains its mappings in ascending key order. This is the Map analog of SortedSet.
Sorted maps are used for naturally ordered collections of key/value pairs.

TIP: Übrigens, das ist eine beliebte Prüfungsfrage: _"Welche Eigenschaften hat das Collections-Interface ...?"_


=== Special Java Collections Classes

Java Collections framework comes with many implementation classes for the interfaces. Most common implementations are:

. `HashSet` Class
. `TreeSet` Class
. `ArrayList` Class
. `LinkedList` Class
. `HashMap` Class
. `TreeMap` Class


=== Synchronized Wrappers

The *synchronization* wrappers add automatic synchronization (thread-safety) to an arbitrary collection.
Each of the six core collection interfaces - Collection, Set, List, Map, SortedSet, and SortedMap - has one static factory method, which return a synchronized (thread-safe) collection backed up by the specified collection.


=== Unmodifiable Wrappers

*Unmodifiable* wrappers take away the ability to modify the collection by intercepting all the operations that would modify the collection
and throwing an UnsupportedOperationException.

Its main usage are;

- To make a collection immutable once it has been built
- To allow certain clients read-only access to data structures (keep a reference to the backing collection but hand out a reference to the wrapper)
- To avoid ConcurrentModificationException


== Übungen

Die *Übungen* sollen in Form von *Unit-Tests* in folgendem _Package_ implementiert werden:

[subs=normal]
 src/[red]#*test*#/java/de/dhbw/course2/exercises/ExerciseTests.java

Die *Testobjekte*, also die _echten_ Klassen, Interfaces oder anderer Sourcecode sollen getrennt, nämlich hier umgesetzt werden:

[subs=normal]
 src/[red]#*main*#/java/de/dhbw/course2/exercises

Übung 1::

a. *Listen*: Schreibe einen Test, in dem eine konkrete Implementierung von `List` und den Datentyp `Integer` benutzt wird. Befülle diese mit beliebig vielen Einträgen. _Optional: ... und summiere alle Listeneinträge mithilfe einer `for-each` Schleife_.

b. *Maps*: Schreibe einen Test, in dem eine konkrete Implementierung von `SortedMap` benutzt wird. Befülle diese mit mindestens 5 Einträgen, nutze dazu `String` sowohl für den Schlüssel (K) also auch für den Wert (V). Überprüfe die Haupt-Charakteristik _"natürliche Sortierung"_ dieses Map-Typs.

Übung 2::

Erstelle zwei Klassen

* `Course` und
* `Student`

Der Kurs kann von *mehreren* Student:innen besucht werden. Setze diese Beziehung zwischen den beiden Klassen in der Klasse `Course` um.

Überlege hier auch, welcher *Listentyp* sich dafür am besten eignet.


Testfragen::
Im Modul `/exam` finden sich weitere kleine Übungen für die Inhalte des Kurses 2, und zwar in der dortigen Testklasse:

[subs=attributes]
 {course-2-exam}/ExamTest.java

